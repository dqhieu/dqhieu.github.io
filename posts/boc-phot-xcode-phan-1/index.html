<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.64.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>BÃ³c phá»‘t Xcode - Pháº§n 1&nbsp;&ndash;&nbsp;Äinh Quang Hiáº¿u&#39;s blog</title><link rel="stylesheet" href="/css/core.min.ffcdc20bdd83cbd233f6ff83f4fd5538a6ed51e20a0fd7a9cccee23c08a861d6bb33bd183ed73e0c5ab43f47f3ee8c7d.css" integrity="sha384-/83CC92Dy9Iz9v&#43;D9P1VOKbtUeIKD9epzM7iPAioYda7M70YPtc&#43;DFq0P0fz7ox9"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/favicon.ico" alt /><span class="site name">Äinh Quang Hiáº¿u's blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="https://github.com/dqhieu"target="_blank">Github</a></nav></div></span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">BÃ³c phá»‘t Xcode - Pháº§n 1</h1><p class="article date">Sunday, April 5, 2020</p></section><article class="article markdown-body"><p>NhÃ¢n tiá»‡n ngÃ y chá»§ nháº­t á»Ÿ nhÃ  ráº£nh rá»—i vÃ¬ lá»‡nh cÃ¡ch ly, mÃ¬nh muá»‘n bÃ³c phá»‘t cÃ¡i tool mÃ  mÃ¬nh dÃ¹ng Ä‘á»ƒ kiáº¿m tiá»n háº±ng ngÃ y. HÃ´m nay mÃ¬nh sáº½ bÃ³c phá»‘t vá»¥ quáº£n lÃ½ assets cá»§a Xcode.</p>
<hr>
<p>Äá»ƒ báº¯t Ä‘áº§u, mÃ¬nh táº¡o 1 project má»›i vÃ  add 1 táº¥m hÃ¬nh vÃ o <code>Assets.xcassets</code>, Ä‘áº·t tÃªn nÃ³ lÃ  <code>background</code>.</p>
<p align="center">
<img src="/images/assets-1.png">
</p>
<p>BÃ¢y giá» má»Ÿ storyboard lÃªn, add 1 <code>UIImageView</code> vÃ o mÃ n hÃ¬nh vÃ  gÃ¡n cho cÃ¡i hÃ¬nh vá»«a rá»“i. Xong build project vÃ  cháº¡y trÃªn simulator.</p>
<p align="center">
<img src="/images/assets-2.png">
</p>
<p>Káº¿t quáº£ nháº­n Ä‘Æ°á»£c khi cháº¡y trÃªn simulator.</p>
<p align="center">
<img src="/images/assets-3.png" width="200">
</p>
<p>Tiáº¿p theo, hÃ£y add thÃªm 1 asset catalog má»›i vÃ o project, Ä‘áº·t tÃªn nÃ³ lÃ  gÃ¬ cÅ©ng Ä‘Æ°á»£c. NhÆ° trong hÃ¬nh mÃ¬nh Ä‘á»ƒ máº·c Ä‘á»‹nh theo Xcode suggest lÃ  <code>Media.xcassets</code>. Add 1 táº¥m hÃ¬nh khÃ¡c vÃ o catalog nÃ y vÃ  Ä‘áº·t tÃªn nÃ³ cÅ©ng lÃ  <code>background</code> luÃ´n.</p>
<p align="center">
<img src="/images/assets-4.png">
</p>
<p>Quay trá»Ÿ láº¡i storyboard vÃ  bÃ¹m, magic xuáº¥t hiá»‡n. Táº¥m hÃ¬nh trÃªn storyboard lÃºc nÃ y lÃ  <code>background</code> má»›i Ä‘Æ°á»£c thÃªm vÃ o <code>Media.xcassets</code>.</p>
<p align="center">
<img src="/images/assets-5.png">
</p>
<p>Thá»­ build project vÃ  cháº¡y trÃªn simulator, vÃ  káº¿t quáº£ lÃ  táº¥m hÃ¬nh á»Ÿ trÃªn simulator láº¡i khÃ¡c táº¥m hÃ¬nh á»Ÿ storyboard ğŸ¤¯</p>
<p align="center">
<img src="/images/assets-6.png">
</p>
<p>ÄÃ¢y lÃ  má»™t lá»—i mÃ  theo nhÆ° Apple nÃ³i lÃ  tÃªn cá»§a cÃ¡c asset pháº£i lÃ  unique trong cÃ¹ng 1 target, á»Ÿ Ä‘Ã¢y cáº£ 2 catalog <code>Assets.xcassets</code> vÃ  <code>Media.xcassets</code> Ä‘á»u cÃ³ cÃ¹ng 1 asset tÃªn <code>background</code> vÃ  cÃ¹ng target <code>TestAssets</code>.</p>
<blockquote>
<p>For any target in an Xcode project, the fully qualified name of an asset must be unique across all the asset catalogs and across all asset types. For example, it is an error to have an image set folder in one asset catalog called Llama.imageset and an image set with the same name in the same catalog or in a different catalog that is part of the same target. Similarly, it is an error to have both an image set folder called Llama.imageset and an app icon folder called Llama.appiconset in the same catalog or in a different catalog that is part of the same target.</p>
</blockquote>
<p>(<a href="https://developer.apple.com/library/archive/documentation/Xcode/Reference/xcode_ref-Asset_Catalog_Format/FolderStructure.html">https://developer.apple.com/library/archive/documentation/Xcode/Reference/xcode_ref-Asset_Catalog_Format/FolderStructure.html</a>)</p>
<p>NhÆ°ng mÃ  táº¡i sao khi build khÃ´ng bÃ¡o error luÃ´n mÃ  chá»‰ bÃ¡o má»—i warning ğŸ¤”? Náº¿u bÃ¡o error luÃ´n thÃ¬ sáº½ Ä‘á»¡ Ä‘au Ä‘áº§u hÆ¡n cho dev ráº¥t nhiá»u.</p>
<blockquote>
<p>âš ï¸ The image set name &ldquo;background&rdquo; is used by multiple image sets.</p>
</blockquote>
<hr>
<p>Tiáº¿p tá»¥c Ä‘Ã o sÃ¢u thÃªm tÃ­, mÃ¬nh sáº½ táº¡o thÃªm 1 target khÃ¡c thÃªm vÃ o 1 image cÃ¹ng tÃªn xem má»i chuyá»‡n nhÆ° tháº¿ nÃ o.
Má»Ÿ project lÃªn vÃ  táº¡o thÃªm 1 target má»›i, chá»n Framework, nháº¥n Next vÃ  Ä‘áº·t tÃªn lÃ  <code>Common</code>.</p>
<p align="center">
<img src="/images/assets-7.png">
</p>
<p>Sau Ä‘Ã³, di chuyá»ƒn <code>Media.xcassets</code> tá»« <code>TestAssets</code> vÃ o <code>Common</code> framework.</p>
<p align="center">
<img src="/images/assets-8.png">
</p>
<p>Quay trá»Ÿ láº¡i storyboard, táº¥m hÃ¬nh preview láº¡i lÃ  <code>background</code> trong <code>Media.xcassets</code> (lÃºc nÃ£y Ä‘Ã£ Ä‘Æ°á»£c move vÃ o <code>Common</code> framework). Build project vÃ  cháº¡y thá»­, trÃªn simulator láº¡i lÃ  táº¥m hÃ¬nh <code>background</code> cá»§a <code>Assets.xcassets</code>.</p>
<p align="center">
<img src="/images/assets-9.png">
</p>
<p>Váº­y lÃ m sao Ä‘á»ƒ gÃ¡n táº¥m hÃ¬nh <code>background</code> trong <code>Common</code> framework cho cÃ¡i <code>UIImageView</code> lÃºc cháº¡y trÃªn Simulator?</p>
<p>TrÆ°á»›c tiÃªn, táº¡o 1 class trong <code>Common</code> framework, Ä‘áº·t Ä‘áº¡i cÃ¡i tÃªn lÃ  <code>DummyView</code> Ä‘i.</p>
<div class="highlight"><pre class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DummyView</span><span class="p">:</span> <span class="n">UIView</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div><p>Sau Ä‘Ã³, táº¡o outlet reference giá»¯a <code>UIImageView</code> vÃ  <code>ViewController</code>. BÃ¢y giá», viá»‡c cáº§n lÃ m lÃ  láº¥y bundle cá»§a <code>Media.xcassets</code> vÃ  táº¡o 1 <code>UIImage</code> vá»›i tÃªn lÃ  <code>background</code>. LÃºc nÃ y, <code>UIImage</code> cá»§a chÃºng ta sáº½ lÃ  táº¥m hÃ¬nh <code>background</code> trong <code>Media.xcassets</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="nc">UIKit</span>
<span class="kd">import</span> <span class="nc">Common</span>

<span class="kd">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="n">UIViewController</span> <span class="p">{</span>

  <span class="kr">@IBOutlet</span> <span class="kr">weak</span> <span class="kd">var</span> <span class="nv">imageView</span><span class="p">:</span> <span class="n">UIImageView</span><span class="p">!</span>

  <span class="kr">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">super</span><span class="p">.</span><span class="n">viewDidLoad</span><span class="p">(</span><span class="p">)</span>

    <span class="kd">let</span> <span class="nv">bundle</span> <span class="p">=</span> <span class="n">Bundle</span><span class="p">(</span><span class="k">for</span><span class="p">:</span> <span class="n">DummyView</span><span class="p">.</span><span class="kc">self</span><span class="p">)</span>
    <span class="n">imageView</span><span class="p">.</span><span class="n">image</span> <span class="p">=</span> <span class="n">UIImage</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="s">&#34;</span><span class="s">background</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">in</span><span class="p">:</span> <span class="n">bundle</span><span class="p">,</span> <span class="n">compatibleWith</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div><p>Build project vÃ  cháº¡y thá»­, káº¿t quáº£ trÃªn simulator.</p>
<p align="center">
<img src="/images/assets-10.png" width="200">
</p>
<hr>
<p>Qua Ä‘Ã¢y, bÃ i há»c rÃºt ra lÃ :</p>
<ul>
<li>KhÃ´ng Ä‘áº·t trÃ¹ng tÃªn asset.</li>
<li>TrÆ°á»›c khi thÃªm asset cáº§n kiá»ƒm tra xem asset Ä‘Ã³ Ä‘Ã£ tá»“n táº¡i trong project hay chÆ°a.</li>
<li>Khi táº¡o UIImage cáº§n kiá»ƒm tra target cá»§a asset Ä‘á»ƒ trÃ¡nh viá»‡c tá»‘n thá»i gian Ä‘á»ƒ debug.</li>
</ul>
<p>NgoÃ i ra, cÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ quáº£n lÃ½ tá»‘t hÆ¡n vá»¥ asset nÃ y cÅ©ng nhÆ° cÃ³ nhiá»u tools Ä‘á»ƒ search duplicated assets, unused assets trong project, vÃ­ dá»¥ nhÆ°:</p>
<ul>
<li><a href="https://www.avanderlee.com/optimization/unused-images-clean-up/">https://www.avanderlee.com/optimization/unused-images-clean-up/</a></li>
<li><a href="https://stackoverflow.com/questions/6113243/how-to-find-unused-images-in-an-xcode-project">https://stackoverflow.com/questions/6113243/how-to-find-unused-images-in-an-xcode-project</a></li>
<li><a href="https://github.com/mac-cain13/R.swift">https://github.com/mac-cain13/R.swift</a></li>
</ul>
<hr>
<p>Phá»‘t thÃ¬ nhiá»u, riÃªng vá»¥ asset nÃ y cÅ©ng cÃ²n ráº¥t nhiá»u topic nhÆ° nÃªn xÃ i image png hay pdf, lÃ m sao Ä‘á»ƒ optimize asset Ä‘á»ƒ app size nháº¹ hÆ¡n, v.v&hellip; Äá»ƒ hÃ´m khÃ¡c ráº£nh rá»—i ngá»“i bÃ³c tiáº¿p.</p>
</article><section class="article labels"><a class="tag" href=/tags/xcode/>xcode</a><a class="tag" href=/tags/ios/>ios</a></section></div><section class="article navigation">
	<p style="text-align:left;"><span style="float:right;">
			<a class="link" href="/posts/2019-in-review/"><span class="li">&rarr;</span>2019 in Review</a class="link">
		</span></p>
</section></div><section id="footer" class="footer"><div class="footer-wrap">
	<br>
    <p class="copyright">Äinh Quang Hiáº¿u's blog</p>

    
</div>
</section>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131682885-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</div>
</body>

</html>